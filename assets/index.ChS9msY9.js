import{r as u,j as e,G as _,R as T,a as G}from"./vendor.BKvpmg1H.js";const O="gemini-2.5-flash-preview-04-17",$="Bytsea Statement Parser",F=`You are an expert financial data extraction AI. Your task is to parse bank statements or credit card statements from the provided text content.
Extract all transaction details accurately.

First, identify the statement metadata:
- Bank Name: The financial institution issuing the statement
- Client Name: The account holder's name
- Statement Period: Try to identify the statement period (e.g., "January 2025" or "01/01/2025 - 01/31/2025")
- Currency: Identify the currency used in the statement (e.g., USD, EUR, GBP, JPY, etc.). Look for currency symbols (€, £, $, ¥), currency codes, or other indicators. If the currency is ambiguous, make your best guess based on the statement origin, amounts format, or bank name.

Then for each transaction, extract:
1. Transaction Date (format as YYYY-MM-DD). If the year is ambiguous, assume the current year or the most recent logical year based on other dates.
2. Description of the transaction.
3. Reference Number or any available transaction remarks/ID.
4. Amount: Determine if it's a debit or credit. Represent debits as negative numbers (e.g., -50.25) and credits as positive numbers (e.g., 100.00). Ensure the amount is a number.

If any specific piece of information for a transaction (e.g., reference number) is not found or not applicable, use an empty string "" for string fields, or 0 for the amount if it's truly ambiguous (though strive to determine debit/credit). If Bank Name or Client Name is not found in the entire document, use "N/A".

Respond ONLY with a JSON object in this exact format:
{
  "bankName": "string",
  "clientName": "string",
  "statementPeriod": "string",
  "currency": "string", 
  "transactions": [
    {
      "transactionDate": "YYYY-MM-DD",
      "description": "string",
      "referenceNumber": "string",
      "amount": number
    }
  ]
}

Do not include any other text, explanations, or markdown formatting around the JSON. The entire response should be this JSON object.
If the document is multi-page, process all pages if possible.`,v=`Please parse the provided financial statement (could be a bank statement or credit card statement).
Follow the detailed instructions regarding data extraction and JSON output format previously provided.
Extract the statement metadata (bankName, clientName, statementPeriod) and all transactions.`,N={"application/pdf":[".pdf"],"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"],"text/plain":[".txt"],"image/jpeg":[".jpg",".jpeg"],"image/png":[".png"],"image/webp":[".webp"]},L=({onFileSelect:s,disabled:o})=>{const[d,i]=u.useState(!1),[t,r]=u.useState(null),l=Object.keys(N).join(","),n=u.useCallback(a=>{a.preventDefault(),a.stopPropagation(),a.type==="dragenter"||a.type==="dragover"?i(!0):a.type==="dragleave"&&i(!1)},[]),m=u.useCallback(a=>{if(a.preventDefault(),a.stopPropagation(),i(!1),a.dataTransfer.files&&a.dataTransfer.files[0]){const c=a.dataTransfer.files[0];N[c.type]?(s(c),r(c.name)):(alert("Invalid file type. Please upload PDF, DOCX, TXT, JPG, PNG, or WEBP files."),r(null))}},[s]),p=a=>{if(a.preventDefault(),a.target.files&&a.target.files[0]){const c=a.target.files[0];N[c.type]?(s(c),r(c.name)):(alert("Invalid file type. Please upload PDF, DOCX, TXT, JPG, PNG, or WEBP files."),r(null),a.target.value="")}};return e.jsxs("div",{className:"w-full max-w-xl mx-auto bg-slate-800 p-8 rounded-xl shadow-2xl transition-all duration-300 ease-in-out",children:[e.jsxs("label",{htmlFor:"file-upload",onDragEnter:n,onDragOver:n,onDragLeave:n,onDrop:m,className:`flex flex-col items-center justify-center w-full h-64 border-2 border-dashed rounded-lg cursor-pointer transition-colors
                    ${o?"opacity-50 cursor-not-allowed":"hover:border-blue-400 hover:bg-slate-700"}
                    ${d?"border-blue-500 bg-slate-700":"border-slate-600 bg-slate-700/50"}`,children:[e.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[e.jsx("svg",{className:`w-10 h-10 mb-3 ${d?"text-blue-400":"text-slate-500"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsxs("p",{className:`mb-2 text-sm ${d?"text-blue-300":"text-slate-400"}`,children:[e.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),e.jsx("p",{className:`text-xs ${d?"text-blue-400":"text-slate-500"}`,children:"PDF, DOCX, TXT, JPG, PNG, WEBP"})]}),e.jsx("input",{id:"file-upload",type:"file",className:"hidden",onChange:p,accept:l,disabled:o})]}),t&&!o&&e.jsxs("p",{className:"mt-4 text-center text-sm text-green-400",children:["Selected: ",t]}),t&&o&&e.jsxs("p",{className:"mt-4 text-center text-sm text-slate-400",children:["Processing: ",t]})]})},R=({transactions:s})=>{if(s.length===0)return e.jsx("p",{className:"text-center text-slate-400 mt-6",children:"No transactions to display."});const o=t=>{var g,b;const r=((g=s[0])==null?void 0:g.clientName)||"Client",l=((b=s[0])==null?void 0:b.bankName)||"Bank",n=localStorage.getItem("statement_period")||"Statement",m=localStorage.getItem("statement_currency")||"",p=r.replace(/[^a-zA-Z0-9]/g,""),a=l.replace(/[^a-zA-Z0-9]/g,""),c=n.replace(/[^a-zA-Z0-9]/g,""),f=m?`-${m}`:"";return`${p}-${a}-${c}${f}.${t}`},d=()=>{const t=localStorage.getItem("statement_currency"),l=`Transaction Date,Description,Reference Number,${t?`Amount (${t})`:"Amount"}
`,n=s.map(c=>`"${c.transactionDate}","${c.description.replace(/"/g,'""')}","${c.referenceNumber.replace(/"/g,'""')}",${c.amount}`).join(`
`),m=l+n,p=new Blob([m],{type:"text/csv;charset=utf-8;"}),a=document.createElement("a");if(a.download!==void 0){const c=URL.createObjectURL(p);a.setAttribute("href",c),a.setAttribute("download",o("csv")),a.style.visibility="hidden",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(c)}},i=()=>{const t=localStorage.getItem("statement_currency"),r=t?`Amount (${t})`:"Amount",l=XLSX.utils.json_to_sheet(s.map(m=>({"Transaction Date":m.transactionDate,Description:m.description,"Reference Number":m.referenceNumber,[r]:m.amount}))),n=XLSX.utils.book_new();if(s.length>0){const m=s[0].bankName,p=s[0].clientName,a=localStorage.getItem("statement_period")||"N/A",c=localStorage.getItem("statement_currency")||"Not detected",f=XLSX.utils.aoa_to_sheet([["Statement Information"],["Bank",m],["Client",p],["Period",a],["Currency",c]]);XLSX.utils.book_append_sheet(n,f,"Metadata")}XLSX.utils.book_append_sheet(n,l,"Transactions"),XLSX.writeFile(n,o("xlsx"))};return e.jsxs("div",{className:"mt-8 w-full bg-slate-800 shadow-xl rounded-lg p-6",children:[e.jsx("h3",{className:"text-2xl font-semibold text-blue-400 mb-4 text-center",children:"Extracted Transactions"}),s.length>0&&e.jsxs("div",{className:"bg-slate-700 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"text-lg font-medium text-blue-300 mb-2",children:"Statement Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Bank"}),e.jsx("p",{className:"text-slate-200",children:s[0].bankName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Client"}),e.jsx("p",{className:"text-slate-200",children:s[0].clientName})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Period"}),e.jsx("p",{className:"text-slate-200",children:localStorage.getItem("statement_period")||"Not available"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-sm",children:"Currency"}),e.jsx("p",{className:"text-slate-200",children:localStorage.getItem("statement_currency")||"Not detected"})]})]})]}),e.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[e.jsx("button",{onClick:d,className:"px-6 py-2 bg-green-500 hover:bg-green-600 text-white font-semibold rounded-lg shadow-md transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-green-400 focus:ring-opacity-75",children:"Download CSV"}),e.jsx("button",{onClick:i,className:"px-6 py-2 bg-blue-500 hover:bg-blue-600 text-white font-semibold rounded-lg shadow-md transition-transform transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75",children:"Download Excel"})]}),e.jsx("div",{className:"overflow-x-auto max-h-[50vh] rounded-md",children:e.jsxs("table",{className:"min-w-full divide-y divide-slate-700 ",children:[e.jsx("thead",{className:"bg-slate-700 sticky top-0",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:"Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:"Description"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:"Reference"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-slate-300 uppercase tracking-wider",children:`Amount${localStorage.getItem("statement_currency")?` (${localStorage.getItem("statement_currency")})`:""}`})]})}),e.jsx("tbody",{className:"bg-slate-800 divide-y divide-slate-700",children:s.map((t,r)=>e.jsxs("tr",{className:"hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-300",children:t.transactionDate}),e.jsx("td",{className:"px-6 py-4 text-sm text-slate-300 min-w-[200px] max-w-xs truncate",title:t.description,children:t.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-300",children:t.referenceNumber}),e.jsx("td",{className:`px-6 py-4 whitespace-nowrap text-sm font-medium ${t.amount>=0?"text-green-400":"text-red-400"}`,children:t.amount.toFixed(2)})]},r))})]})})]})},X=({message:s="Processing..."})=>e.jsxs("div",{className:"flex flex-col items-center justify-center p-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-t-transparent border-blue-500 rounded-full animate-spin"}),s&&e.jsx("p",{className:"mt-3 text-lg text-gray-300",children:s})]}),B=()=>localStorage.getItem("gemini_api_key"),K=s=>{localStorage.setItem("gemini_api_key",s)},M=s=>new _({apiKey:s}),Y=s=>{let o=s.trim();const d=/^```(?:json)?\s*\n?(.*?)\n?\s*```$/s,i=o.match(d);i&&i[1]&&(o=i[1].trim());try{const t=JSON.parse(o);if(t&&typeof t.bankName=="string"&&typeof t.clientName=="string"&&Array.isArray(t.transactions)){const r=t.transactions.map(l=>({bankName:t.bankName,clientName:t.clientName,transactionDate:l.transactionDate,description:l.description,referenceNumber:l.referenceNumber,amount:l.amount}));return t.statementPeriod?localStorage.setItem("statement_period",t.statementPeriod):localStorage.removeItem("statement_period"),t.currency?localStorage.setItem("statement_currency",t.currency):localStorage.removeItem("statement_currency"),r}return Array.isArray(t)&&t.every(r=>typeof r.bankName=="string"&&typeof r.clientName=="string"&&typeof r.transactionDate=="string"&&typeof r.description=="string"&&typeof r.referenceNumber=="string"&&typeof r.amount=="number")?t:(console.warn("Parsed JSON does not match expected structure:",t),null)}catch(t){return console.error("Failed to parse JSON response from Gemini:",t),console.error("Raw response text:",s),null}},J=async(s,o)=>{const d=B();if(!d)throw new Error("Gemini API Key is not configured. Please enter your API key in the settings.");const i=M(d),t=[];if(o.startsWith("image/")||o==="application/pdf")t.push({inlineData:{mimeType:o,data:s}}),t.push({text:v});else if(o==="text/plain")t.push({text:`${v}

Here is the statement text:
${s}`});else throw new Error(`Unsupported mime type for Gemini processing: ${o}`);try{const l=(await i.models.generateContent({model:O,contents:{parts:t},config:{systemInstruction:F,responseMimeType:"application/json"}})).text;if(!l)throw console.error("Gemini response was empty or undefined."),new Error("Received an empty response from the AI. The document might be unparsable or too complex.");const n=Y(l);if(!n)throw new Error("AI failed to return valid transaction data in the expected JSON format. Please check the console for raw AI output. The AI might have misunderstood the input or the document structure.");return n}catch(r){throw console.error("Error calling Gemini API:",r),r instanceof Error?r.message.includes("API key not valid")?new Error("The configured Gemini API key is invalid. Please check your environment configuration."):new Error(`AI processing failed: ${r.message}. Ensure your API key is valid and the file is not too large or complex.`):new Error("An unknown error occurred during AI processing.")}},U=({onKeySet:s})=>{const[o,d]=u.useState(""),[i,t]=u.useState(!1);u.useEffect(()=>{localStorage.getItem("gemini_api_key")&&(d("•".repeat(16)),t(!0),s(!0))},[s]);const r=()=>{o.trim()&&(K(o.trim()),t(!0),s(!0),d("•".repeat(16)))},l=()=>{localStorage.removeItem("gemini_api_key"),d(""),t(!1),s(!1)};return e.jsxs("div",{className:"w-full max-w-md mx-auto my-8 p-6 bg-slate-800 rounded-xl shadow-xl border border-slate-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-center text-blue-400 mb-6",children:"Google Gemini API Key"}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"apiKey",className:"block text-sm font-medium text-slate-300 mb-2",children:"Enter your Google Gemini API Key:"}),e.jsx("input",{type:i?"password":"text",id:"apiKey",value:o,onChange:n=>d(n.target.value),placeholder:i?"API key saved":"Enter API key...",className:"w-full p-3 rounded-lg bg-slate-700 text-white border border-slate-600 focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:i})]}),e.jsxs("div",{className:"flex justify-between",children:[i?e.jsx("button",{onClick:l,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg shadow transition-colors duration-200",children:"Clear API Key"}):e.jsx("button",{onClick:r,disabled:!o.trim(),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg shadow transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Save API Key"}),e.jsx("a",{href:"https://ai.google.dev/tutorials/setup",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 text-blue-400 hover:text-blue-300 transition-colors duration-200 flex items-center",children:"Get an API Key"})]}),e.jsxs("p",{className:"mt-4 text-xs text-slate-400",children:["Your API key is stored only in your browser's local storage and never sent to our servers. It is used only to communicate directly with Google's Gemini API. You are open to investigate the code and see how it works by navigating to the ",e.jsx("a",{href:"https://github.com/excelblazer/Bytsea-BankParser",target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300",children:"repository"}),"."]})]})},W=()=>{const[s,o]=u.useState(null),[d,i]=u.useState([]),[t,r]=u.useState(!1),[l,n]=u.useState(null),[m,p]=u.useState("checking"),[a,c]=u.useState(!1),[f,g]=u.useState(!1);u.useEffect(()=>{const x=localStorage.getItem("gemini_api_key");p(x?"ok":"missing")},[]);const b=x=>{p(x?"ok":"missing"),n(null),g(!1)},I=()=>{g(!0)},A=()=>{localStorage.removeItem("gemini_api_key"),p("missing"),o(null),i([]),n(null),g(!1)},P=()=>{g(!1)},S=u.useCallback(x=>{o(x),i([]),n(null),c(!1)},[]),C=async()=>{if(!s||m!=="ok"){m!=="ok"?(n("Cannot process file: You need to provide your Google Gemini API key first."),p("missing")):n("Please select a file first.");return}r(!0),n(null),i([]),c(!0);try{let x,h=s.type;if(!N[h])throw new Error(`Unsupported file type: ${h}. Please upload PDF, DOCX, TXT, JPG, PNG, or WEBP.`);if(h.startsWith("image/")||h==="application/pdf")x=await new Promise((j,w)=>{const y=new FileReader;y.onload=()=>j(y.result.split(",")[1]),y.onerror=D=>w(D),y.readAsDataURL(s)});else if(h==="application/vnd.openxmlformats-officedocument.wordprocessingml.document"){const j=await s.arrayBuffer();x=(await window.mammoth.extractRawText({arrayBuffer:j})).value,h="text/plain"}else if(h==="text/plain")x=await s.text();else throw new Error(`File processing logic not implemented for type: ${h}`);const E=await J(x,h);i(E)}catch(x){console.error("Processing error:",x),x instanceof Error?n(x.message):n("An unknown error occurred during file processing."),i([])}finally{r(!1)}};return e.jsxs("div",{className:"mx-auto p-4 md:p-8 min-h-screen flex flex-col items-center w-full max-w-screen-xl relative",children:[e.jsx("h1",{className:"text-6xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-sky-400 to-cyan-300 mt-6 mb-1 text-center",children:$}),e.jsx("div",{className:"h-1 w-64 mx-auto bg-gradient-to-r from-blue-500 via-sky-400 to-cyan-300 rounded-full mb-3"}),e.jsx("p",{className:"text-slate-400 text-lg mb-10 text-center",children:m==="missing"?"First, enter your Google Gemini API key to enable transaction extraction.":"Upload your bank or card statements (PDF, DOCX, TXT, Images) to extract transactions."}),m==="missing"&&e.jsxs(e.Fragment,{children:[e.jsx(U,{onKeySet:b}),e.jsx("div",{className:"w-full max-w-xl mx-auto mt-8 mb-4",children:e.jsxs("div",{className:"border border-slate-600 rounded-lg p-4 bg-slate-800/50 backdrop-blur-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-center mb-3 text-blue-300",children:"More API Options Coming Soon"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-center",children:[e.jsxs("div",{className:"flex-1 border border-slate-700 rounded-md p-4 bg-slate-800/70 relative overflow-hidden group api-box cursor-not-allowed shadow-md",children:[e.jsx("div",{className:"absolute top-0 right-0 bg-blue-600/80 text-xs px-2 py-1 rounded-bl-md",children:"Coming Soon"}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 mr-2 flex items-center justify-center rounded bg-slate-700",children:e.jsx("span",{className:"font-bold text-blue-400",children:"O"})}),e.jsx("h4",{className:"font-medium text-white",children:"OpenAI"})]}),e.jsx("p",{className:"text-sm text-slate-300 mb-3",children:"Connect with OpenAI's GPT models for more advanced statement parsing capabilities."}),e.jsx("button",{disabled:!0,className:"w-full py-2 bg-slate-700/70 text-slate-400 rounded cursor-not-allowed opacity-70",children:"Connect OpenAI"})]}),e.jsxs("div",{className:"flex-1 border border-slate-700 rounded-md p-4 bg-slate-800/70 relative overflow-hidden api-box cursor-not-allowed shadow-md",children:[e.jsx("div",{className:"absolute top-0 right-0 bg-purple-600/80 text-xs px-2 py-1 rounded-bl-md",children:"Coming Soon"}),e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsx("div",{className:"w-8 h-8 mr-2 flex items-center justify-center rounded bg-slate-700",children:e.jsx("span",{className:"font-bold text-purple-400",children:"A"})}),e.jsx("h4",{className:"font-medium text-white",children:"Anthropic"})]}),e.jsx("p",{className:"text-sm text-slate-300 mb-3",children:"Use Claude for enhanced data extraction from complex financial statements."}),e.jsx("button",{disabled:!0,className:"w-full py-2 bg-slate-700/70 text-slate-400 rounded cursor-not-allowed opacity-70",children:"Connect Anthropic"})]})]})]})})]}),l&&e.jsxs("div",{className:"w-full max-w-xl mx-auto my-4 p-4 bg-red-800/70 border border-red-600 rounded-lg text-red-200 text-center",children:[e.jsx("strong",{children:"Configuration Error:"})," ",l]}),m==="ok"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-full max-w-xl mx-auto mb-4",children:e.jsxs("div",{className:"flex items-center justify-between bg-slate-800/30 backdrop-blur-sm rounded-lg p-3 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-green-500/20 rounded-full p-1 mr-2",children:e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"})}),e.jsx("span",{className:"text-sm text-slate-300 mr-2",children:"Connected:"}),e.jsx("span",{className:"font-medium text-cyan-300",children:"Google Gemini AI"})]}),e.jsx("button",{onClick:I,className:"px-3 py-1 text-xs bg-slate-700 hover:bg-slate-600 text-slate-300 rounded transition-colors duration-200",children:"Change API"})]})}),e.jsx(L,{onFileSelect:S,disabled:t}),e.jsxs("div",{className:"w-full max-w-xl mx-auto mt-8 flex flex-wrap justify-center gap-4",children:[e.jsxs("div",{className:"flex items-center opacity-50 cursor-not-allowed",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-slate-700 flex items-center justify-center mr-2",children:e.jsx("span",{className:"text-blue-400 text-xs font-bold",children:"O"})}),e.jsx("span",{className:"text-xs text-slate-400",children:"OpenAI • Coming Soon"})]}),e.jsxs("div",{className:"flex items-center opacity-50 cursor-not-allowed",children:[e.jsx("div",{className:"w-6 h-6 rounded bg-slate-700 flex items-center justify-center mr-2",children:e.jsx("span",{className:"text-purple-400 text-xs font-bold",children:"A"})}),e.jsx("span",{className:"text-xs text-slate-400",children:"Anthropic • Coming Soon"})]})]})]}),s&&m==="ok"&&e.jsx("button",{onClick:C,disabled:t,className:"mt-8 px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white font-bold rounded-lg shadow-xl text-lg transition-all duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-4 focus:ring-blue-500 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Processing...":"Extract Transactions"}),t&&e.jsx(X,{message:"AI is analyzing your statement... This may take a moment."}),!t&&l&&e.jsxs("div",{className:"mt-6 w-full max-w-2xl mx-auto p-4 bg-red-800/50 border border-red-700 rounded-lg text-red-200",role:"alert",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:"Error:"}),e.jsx("p",{children:l})]}),!t&&!l&&d.length>0&&e.jsx(R,{transactions:d}),!t&&!l&&d.length===0&&s&&a&&e.jsx("div",{className:"mt-6 w-full max-w-2xl mx-auto p-4 bg-slate-700/50 border border-slate-600 rounded-lg text-slate-300 text-center",role:"status","aria-live":"polite",children:e.jsxs("p",{children:["Processing complete. No transactions were found in the file: ",s.name]})}),f&&e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 modal-overlay",children:e.jsxs("div",{className:"bg-slate-800 p-6 rounded-lg max-w-md mx-4 border border-red-500/30 shadow-2xl modal-content",children:[e.jsxs("div",{className:"flex items-start mb-4",children:[e.jsx("div",{className:"mr-3 text-amber-500",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Change API Integration"}),e.jsx("p",{className:"text-slate-300 text-sm mb-2",children:"Warning: Your current API integration settings will be removed from the browser."}),e.jsx("p",{className:"text-slate-300 text-sm mb-1",children:"You will need to re-enter your API key to continue using the application."}),e.jsx("div",{className:"text-xs text-amber-400/80 mt-2 mb-4 italic",children:"Any uploaded files and extracted data will also be cleared."})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:P,className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 text-sm rounded focus:outline-none focus:ring-2 focus:ring-slate-400",children:"Cancel"}),e.jsx("button",{onClick:A,className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white text-sm rounded focus:outline-none focus:ring-2 focus:ring-red-500",children:"Continue"})]})]})})]})},k=document.getElementById("root");if(!k)throw new Error("Could not find root element to mount to");const z=T.createRoot(k);z.render(e.jsx(G.StrictMode,{children:e.jsx(W,{})}));
